# Codex Research with PR Creation

## Instructions for Codex Workers

When executing research tasks, follow this workflow:

### 1. Research Phase
- Conduct comprehensive web research on the given topic
- Create a well-structured markdown report
- Include full URLs for all references
- Save the report to the specified output file

### 2. Git Integration Phase
After successfully creating the research report:

```bash
# Create a feature branch
TIMESTAMP=$(date +"%Y%m%d_%H%M%S")
BRANCH_NAME="codex-research-${TIMESTAMP}"
git checkout -b "$BRANCH_NAME"

# Add and commit the research
git add .catlab/research/*.md
git commit -m "research: [TOPIC]

- Comprehensive web research with citations
- Full URL references included
- Generated by Codex CLI

Co-Authored-By: Codex <noreply@anthropic.com>"

# Push and create PR
git push -u origin "$BRANCH_NAME"
gh pr create \
  --title "ðŸ“š Research: [TOPIC]" \
  --body "## Research Report

### Overview
AI-powered research conducted via Codex CLI with web search enabled.

### Files
- Research output in \`.catlab/research/\`

### Generated by
- Tool: Codex CLI v0.41.0
- Command: /research
- Timestamp: $(date)

Co-Authored-By: Codex <noreply@anthropic.com>" \
  --assignee "@me"
```

### 3. Important Notes
- CODEX_HOME is set to: `/home/floodboy/catlab-kit`
- Always create a new branch for research PRs
- Include clear commit messages
- Reference the research topic in PR title
- Use the codex-research branch prefix

### 4. Environment Variables
The following are available:
- CODEX_HOME: Project root directory
- CODEX_CREATE_PR: Set to true
- CODEX_PR_BRANCH_PREFIX: "codex-research"
- CODEX_AUTO_COMMIT: Set to true

## Example Usage

```bash
# When Codex receives a research task:
codex exec -s danger-full-access \
  -c 'tools.web_search=true' \
  -c model_reasoning_effort="medium" \
  "Research: Next.js 15 features

  After research:
  1. Save report to .catlab/research/
  2. Create branch and commit
  3. Push to GitHub and create PR"
```